@using FootballTeamSystem.Data.Model
@model IEnumerable<FootballTeamSystem.Models.PlayerViewModel>

@{
    ViewBag.Title = "All Players";
}

<div class="container-fluid">
    <div class="row">
        <ul class="breadcrumb">
            <li><a href="/">Начало</a></li>
            <li class="active">Състезатели</li>
        </ul>
    </div>
    <div class="row">
        <h2>Състезатели</h2>
        @{
            if (User.IsInRole(RoleName.CanManagePlayers))
            {
                @Html.ActionLink("Добави нов", "Add", null, new { @class = "btn btn-primary pull-right", id = "createPlayer" })
            }
        }
    </div>
    <div class="row">
        <table class="table table-striped table-hover ">
            <thead>
                <tr>
                    <th>Player #</th>
                    <th>Position</th>
                    <th>Player Names</th>
                    <th>Player Birtdate</th>
                    @if (User.IsInRole(RoleName.CanManagePlayers))
                    {
                        <th>Actions</th>
                    }
                </tr>
            </thead>
            <tbody>
                @foreach (var player in Model)
                {
                    <tr>
                        <td>@player.ShirtNumber</td>
                        <td>@player.Position</td>
                        <td>@player.FullName</td>
                        <td>@player.Birthdate.ToLongDateString()</td>
                        @if (User.IsInRole(RoleName.CanManagePlayers))
                        {
                            <td>@Html.ActionLink("Edit", "Edit", new {id = player.Id}, new {@class="btn btn-info"})</td>
                            <td>@Html.ActionLink("Delete", "Delete", new {id = player.Id}, new{@class="btn btn-danger"})</td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>